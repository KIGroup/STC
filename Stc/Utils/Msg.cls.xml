<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Stc.Utils.Msg">
<TimeCreated>63147,18153.813301</TimeCreated>

<Method name="GetErrorStatus">
<Description>
Get error status by key</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>errorKey:%String,additionalMsg:%String=""</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[	quit $system.Status.Error(5001, ..GetMsg(errorKey)_" "_additionalMsg)
]]></Implementation>
</Method>

<Method name="GetMsg">
<Description>
Get localized error message</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>key</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	quit $GET(^CacheMsg("Stc", $$$SessionLanguage, key), "---")
]]></Implementation>
</Method>

<Method name="Init">
<Description>
Write all messages into global</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	// Email subject
	set ^CacheMsg("Stc", "ru", "emailSubject") = "Заявка на обучение"
	set ^CacheMsg("Stc", "en", "emailSubject") = "Order for training"
	
	// Customer email text
	set ^CacheMsg("Stc", "ru", "msgToCompanyContact") = ""_
	"Здравствуйте, вы оставили заявку на обучение по курсу - '%1', в городе - '%2', дата обучения - '%3'. "_
	"<br>Вам необходимо перейти по <a href='http://%4/stc/index.csp#/updateorder?code=%5'>ссылке</a> для дальнейшего заполнения вашей заявки, проверить и заполнить реквизиты компании, добавить сотрудников для обучения.<br>"_
	"Прямая ссылка на вашу заявку: http://%4/stc/index.csp#/updateorder?code=%5<br>"_
	"Нажмите 'Завершить редактирование', чтобы отправить ее администратору системы для рассмотрения. Доступ к заявке будет закрыт после завершения редактирования.<br>"_
	"------------<br>"_
	"С уважением, Администратор 'Системы учёта курсов'"
	
	set ^CacheMsg("Stc", "en", "msgToCompanyContact") = ""_
	"Hello, you left a order for a course - '%1', in city - '%2', training date - '%3'. "_
	"<br>You need to <a href='http://%4/stc/index.csp#/updateorder?code=%5'>link</a> for further filling your order, check and fill in your company details, add employees for training.<br>"_
	"Direct link to your order: http://%4/stc/index.csp#/updateorder?code=%5<br>"_
	"Click 'Finish editing' to send it to your system administrator for consideration. Access to the application will be closed after completion of editing.<br>"_
	"------------<br>"_
	"Best regards, Administrator 'Systems of training courses'"
	
	//======================================================================= MAILING
	// To Students
	set ^CacheMsg("Stc", "ru", "msgSubjectToTrainingStudents") = "Обучение"
	set ^CacheMsg("Stc", "ru", "msgToTrainingStudents") = ""_
	"Здравствуйте!<br>"_
	"Дата начала обучения: %1, время: %6<br>"_
	"Курс: %2<br>"_
	"Город: %3<br>"_
	"Адрес: %4%5<br>"_
	"Преподаватель: %7<br>"_
	"%8"
	
	set ^CacheMsg("Stc", "en", "msgSubjectToTrainingStudents") = "Training"
	set ^CacheMsg("Stc", "en", "msgToTrainingStudents") = ""_
	"Hello! <br>" _
	"Start date of study: 1%, time: 6% <br>" _
	"Course: 2% <br>" _
	"City:% 3 <br>" _
	"Address:% 4% 5 <br>" _
	"Teacher: 7% <br>" _
	"8%"
	
	// Registration
	set ^CacheMsg("Stc", "ru", "msgSubjectToNewTrainingStudent") = "Регистрация на курс"
	set ^CacheMsg("Stc", "ru", "msgToNewTrainingStudent") = ""_
	"Здравствуйте! Ваша заявка на обучение принята.<br>"_
	"Дата начала обучения: %1, время: %6<br>"_
	"Курс: %2<br>"_
	"Город: %3<br>"_
	"Адрес: %4%5<br>"_
	"Преподаватель: %7<br>"_
	"%8"
	
	set ^CacheMsg("Stc", "en", "msgSubjectToNewTrainingStudent") = "Registration for course"
	set ^CacheMsg("Stc", "en", "msgToNewTrainingStudent") = ""_
	"Hello, Your order for training has been adopted. <br>" _
	"Start date of study: 1%, time: 6% <br>" _
	"Course: 2% <br>" _
	"City:% 3 <br>" _
	"Address:% 4% 5 <br>" _
	"Teacher: 7% <br>" _
	"8%"
	
	// To Teacher
	set ^CacheMsg("Stc", "ru", "msgSubjectToTrainingTeacher") = "Слушатели курса"
	set ^CacheMsg("Stc", "ru", "msgToTrainingTeacher") = ""_
	"Здравствуйте!<br>Перейдите по <a href='http://%1'>ссылке</a> для просмотра списка слушателей курса.<br>"_
	"Дата начала обучения: %2, время: %3<br>"_
	"Курс: %4<br>"_
	"Город: %5<br>"_
	"Адрес: %6%7<br>"_
	"%8"
	
	set ^CacheMsg("Stc", "en", "msgSubjectToTrainingTeacher") = "Training Students"
	set ^CacheMsg("Stc", "en", "msgToTrainingTeacher") = ""_
	"Hello!<br> Go to <a href='http://%1'> link </ a> for view the list of students. <br>" _
	"Start date of study: 2%, time: 3% <br>" _
	"Course: 4% <br>" _
	"City: 5% <br>" _
	"Address:% 6% 7 <br>" _
	"8%"
	
	// To Curator
	set ^CacheMsg("Stc", "ru", "msgSubjectToTrainingCurator") = "Слушатели курса"
	set ^CacheMsg("Stc", "ru", "msgToTrainingCurator") = ""_
	"Здравствуйте!<br>Перейдите по <a href='http://%1'>ссылке</a> для просмотра списка слушателей курса.<br>"_
	"Дата начала обучения: %2, время: %3<br>"_
	"Курс: %4<br>"_
	"Город: %5<br>"_
	"Адрес: %6%7<br>"_
	"%8"
	
	set ^CacheMsg("Stc", "en", "msgSubjectToTrainingCurator") = "Training Students"
	set ^CacheMsg("Stc", "en", "msgToTrainingCurator") = ""_
	"Hello!<br> Go to <a href='http://%1'> link </ a> for view the list of students. <br>" _
	"Start date of study: 2%, time: 3% <br>" _
	"Course: 4% <br>" _
	"City: 5% <br>" _
	"Address:% 6% 7 <br>" _
	"8%"
	
	// FeedBack
	set ^CacheMsg("Stc", "ru", "msgSubjectToTrainingStudentsFeedBack") = "Анкета слушателя"
	set ^CacheMsg("Stc", "ru", "msgToTrainingStudentsFeedBack") = ""_
	"Здравствуйте!<br>Перейдите по <a href='http://%1'>ссылке</a> для заполнения анкеты, там вы можете оставить свои замечания и предложения по пройденному курсу - '%2'"
	
	set ^CacheMsg("Stc", "en", "msgSubjectToTrainingStudentsFeedBack") = "Training Students"
	set ^CacheMsg("Stc", "en", "msgToTrainingStudentsFeedBack") = ""_
	"Hello!<br> Go to <a href='http://%1'> link </ a> complete the questionnaire where you can leave your comments and suggestions on the courses - '%2'"
	
	//=========================================================================================
	
	
	set ^CacheMsg("Stc", "ru", "CalendarEvent") = ""_
	"<a href='http://%1'>Программа курса</a><br><br>"_
	"<a href='http://%2/stc/index.csp#/orderstudent?training=%3'>Записаться на обучение</a><br><br>"_
	"Место проведения:<br>"_
	"%4<br><br>"_
	"Преподаватель:<br>"_
	"%5<br><br>"_
	"Время проведения: %6<br>"_
	"%7"_
	"%8"

	set ^CacheMsg("Stc", "en", "CalendarEvent") = ""_
	"<a href='http://%1'>Course program</a><br><br>"_
	"<a href='http://%2/stc/index.csp#/orderstudent?training=%3'>Register for course</a><br><br>"_
	"Loacation:<br>"_
	"%4<br><br>"_
	"Teacher:<br>"_
	"%5<br><br>"_
	"Time: %6<br>"_
	"%7"_
	"%8"
	
	set ^CacheMsg("Stc", "ru", "contactPerson") = "Контактное лицо"
	set ^CacheMsg("Stc", "en", "contactPerson") = "Contact person"
	
	set ^CacheMsg("Stc", "ru", "certificatesReport") = "Сертификаты для [%1] [%2] [%3]"
	set ^CacheMsg("Stc", "en", "certificatesReport") = "Certificates for [%1] [%2] [%3]"

	set ^CacheMsg("Stc", "ru", "studentsReport") = "Слушатели [%1] [%2] [%3]"
	set ^CacheMsg("Stc", "en", "studentsReport") = "Students [%1] [%2] [%3]"	
	
	
	// Errors
	set ^CacheMsg("Stc", "ru", "feedBackSpam") = "Слишком много отзывов для этого курса"
	set ^CacheMsg("Stc", "en", "feedBackSpam") = "Too much feedbacks for this training"

	set ^CacheMsg("Stc", "ru", "feedBackErrorCode") = "Неверный код доступа"
	set ^CacheMsg("Stc", "en", "feedBackErrorCode") = "Wrong access code"
	
	set ^CacheMsg("Stc", "ru", "feedBackSave") = "Отзыв не сохранен."
	set ^CacheMsg("Stc", "en", "feedBackSave") = "Feedback have not been saved."
	
	set ^CacheMsg("Stc", "ru", "emailAddNewStudent") = "Слушатель добавлен, но письмо не было отправлено."
	set ^CacheMsg("Stc", "en", "emailAddNewStudent") = "Student has been added into training, but email was not sent."
	
	set ^CacheMsg("Stc", "ru", "createCompany") = "Создание компании"
	set ^CacheMsg("Stc", "en", "createCompany") = "Creation company"
	
	set ^CacheMsg("Stc", "ru", "saveCompany") = "Сохранение компании"
	set ^CacheMsg("Stc", "en", "saveCompany") = "Saving company"
	
	set ^CacheMsg("Stc", "ru", "openCompany") = "Загрузка компании"
	set ^CacheMsg("Stc", "en", "openCompany") = "Loading company"
	
	set ^CacheMsg("Stc", "ru", "createPerson") = "Создание сотрудника"
	set ^CacheMsg("Stc", "en", "createPerson") = "Create employee"
	
	set ^CacheMsg("Stc", "ru", "savePerson") = "Сохранение сотрудника"
	set ^CacheMsg("Stc", "en", "savePerson") = "Saving employee"
	
	set ^CacheMsg("Stc", "ru", "deletePerson") = "Удаление сотрудника"
	set ^CacheMsg("Stc", "en", "deletePerson") = "Remove employee"
	
	set ^CacheMsg("Stc", "ru", "deletePersonImpossible") = "Удаление сотрудника невозможно, на него ссылаются из других таблиц."
	set ^CacheMsg("Stc", "en", "deletePersonImpossible") = "Deleting employee impossible it is referenced from other tables."
	
	set ^CacheMsg("Stc", "ru", "openPerson") = "Загрузка сотрудника"
	set ^CacheMsg("Stc", "en", "openPerson") = "Loading employee"
	
	set ^CacheMsg("Stc", "ru", "createCompanyContact") = "Создание контакта компании"
	set ^CacheMsg("Stc", "en", "createCompanyContact") = "Creation company contact"
	
	set ^CacheMsg("Stc", "ru", "wrongOrderAccessCode") = "Неверный код доступа к заявке"
	set ^CacheMsg("Stc", "en", "wrongOrderAccessCode") = "Invalid access code for order"
	
	set ^CacheMsg("Stc", "ru", "createDirtyOrder") = "Создание новой заявки"
	set ^CacheMsg("Stc", "en", "createDirtyOrder") = "Creation new order"
	
	set ^CacheMsg("Stc", "ru", "openOrder") = "Загрузка заявки"
	set ^CacheMsg("Stc", "en", "openOrder") = "Load order"
	
	set ^CacheMsg("Stc", "ru", "saveOrder") = "Сохранение заявки"
	set ^CacheMsg("Stc", "en", "saveOrder") = "Saving order"
	
	set ^CacheMsg("Stc", "ru", "saveApprovedOrder") = "Сохранение одобренной заявки"
	set ^CacheMsg("Stc", "en", "saveApprovedOrder") = "Saving approved order"
	
	set ^CacheMsg("Stc", "ru", "saveOrderStudent") = "Сохранение слушателя" 
	set ^CacheMsg("Stc", "en", "saveOrderStudent") = "Saving student"
	
	set ^CacheMsg("Stc", "ru", "doNotHaveAccessToEditOrderStudent") = "Нет прав для редактирования слушателя"
	set ^CacheMsg("Stc", "en", "doNotHaveAccessToEditOrderStudent") = "Do not have access to edit order student"
	
	set ^CacheMsg("Stc", "ru", "createOrderStudent") = "Создание слушателя"
	set ^CacheMsg("Stc", "en", "createOrderStudent") = "Creatio"
	
	set ^CacheMsg("Stc", "ru", "saveDirtyOrder") = "Сохранение новой заявки"
	set ^CacheMsg("Stc", "en", "saveDirtyOrder") = "Saving new order"
	
	set ^CacheMsg("Stc", "ru", "saveCourse") = "Сохранение курса"
	set ^CacheMsg("Stc", "en", "saveCourse") = "Saving course"
	
	set ^CacheMsg("Stc", "ru", "createCourse") = "Создание курса"
	set ^CacheMsg("Stc", "en", "createCourse") = "Creation course"
	
	set ^CacheMsg("Stc", "ru", "saveSubGroup") = "Сохранение подгруппы"
	set ^CacheMsg("Stc", "en", "saveSubGroup") = "Saving sub-group"
	
	set ^CacheMsg("Stc", "ru", "createSubGroup") = "Создание подгруппы"
	set ^CacheMsg("Stc", "en", "createSubGroup") = "Creation sub-group"
	
	set ^CacheMsg("Stc", "ru", "deleteSubGroup") = "Удаление подгруппы"
	set ^CacheMsg("Stc", "en", "deleteSubGroup") = "Removing sub-group"
	
	set ^CacheMsg("Stc", "ru", "createTraining") = "Создание обучения"
	set ^CacheMsg("Stc", "en", "createTraining") = "Creating a training"
	
	set ^CacheMsg("Stc", "ru", "saveTraining") = "Сохранение обучения"
	set ^CacheMsg("Stc", "en", "saveTraining") = "Saving training"
	
	set ^CacheMsg("Stc", "ru", "isAlreadyCompleteTraining") = "Обучение уже было завершено"
	set ^CacheMsg("Stc", "en", "isAlreadyCompleteTraining") = "Training is already completed"
	
	set ^CacheMsg("Stc", "ru", "createCertificate") = "Создание сертификата"
	set ^CacheMsg("Stc", "en", "createCertificate") = "Creating a cretificate"
	
	
	set ^CacheMsg("Stc", "ru", "saveLoc") = "Сохранение локализации"
	set ^CacheMsg("Stc", "en", "saveLoc") = "Saving localization"
		
	set ^CacheMsg("Stc", "ru", "deleteLoc") = "Удаление локализации"
	set ^CacheMsg("Stc", "en", "deleteLoc") = "Deleting localization"
		
	set ^CacheMsg("Stc", "ru", "createLoc") = "Создание локализации"
	set ^CacheMsg("Stc", "en", "createLoc") = "Creating localization"
	
	set ^CacheMsg("Stc", "ru", "sendEmail") = "Отправка почты"
	set ^CacheMsg("Stc", "en", "sendEmail") = "Sending email"
	
	set ^CacheMsg("Stc", "ru", "deleteCompany") = "Удаление компании"
	set ^CacheMsg("Stc", "en", "deleteCompany") = "Removing company"
	
	set ^CacheMsg("Stc", "ru", "deleteCompanyImpossible") = "Удаление компании невозможно, на неё ссылаются из других таблиц."
	set ^CacheMsg("Stc", "en", "deleteCompanyImpossible") = "Deleting company impossible it is referenced from other tables."
	
	set ^CacheMsg("Stc", "ru", "deleteCertificate") = "Удаление сертификата"
	set ^CacheMsg("Stc", "en", "deleteCertificate") = "Removing certificate"
	
	set ^CacheMsg("Stc", "ru", "deleteTraining") = "Удаление обучения"
	set ^CacheMsg("Stc", "en", "deleteTraining") = "Removing training"

	set ^CacheMsg("Stc", "ru", "deleteOrderNewStudent") = "Удаление заявки от слушателя"
	set ^CacheMsg("Stc", "en", "deleteOrderNewStudent") = "Removing order from student"
	
	set ^CacheMsg("Stc", "ru", "tooMuchOrderNewStudent") = "Слишком много заявок для выбранного обучения"
	set ^CacheMsg("Stc", "en", "tooMuchOrderNewStudent") = "Too much new orders for this training"
	
	set ^CacheMsg("Stc", "ru", "deleteTrainingImpossible") = "Удаление обучения невозможно, на него ссылаются из других таблиц."
	set ^CacheMsg("Stc", "en", "deleteTrainingImpossible") = "Deleting training impossible it is referenced from other tables."

	set ^CacheMsg("Stc", "ru", "personContainsInTraining") = "Слушатель уже есть в этом обучении"
	set ^CacheMsg("Stc", "en", "personContainsInTraining") = "Student is already in this training"
	
	//personContainsInTraining
]]></Implementation>
</Method>

<Method name="DeepSeeMsg">
<Description>
do ##class(Stc.Utils.Msg).DeepSeeMsg()</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set ^CacheMsg("Stc", "ru", "students") = "Слушатели"
	set ^CacheMsg("Stc", "en", "students") = "Students"
	set ^CacheMsg("Stc", "en-us", "students") = ^CacheMsg("Stc", "en", "students")
	
	set ^CacheMsg("Stc", "ru", "company") = "Компания"
	set ^CacheMsg("Stc", "en", "company") = "Company"
	set ^CacheMsg("Stc", "en-us", "company") = ^CacheMsg("Stc", "en", "company")
	
	set ^CacheMsg("Stc", "ru", "course") = "Курс"
	set ^CacheMsg("Stc", "en", "course") = "Course"
	set ^CacheMsg("Stc", "en-us", "course") = ^CacheMsg("Stc", "en", "course")
	
	set ^CacheMsg("Stc", "ru", "year") = "Год"
	set ^CacheMsg("Stc", "en", "year") = "Year"
	set ^CacheMsg("Stc", "en-us", "year") = ^CacheMsg("Stc", "en", "year")
	
	set ^CacheMsg("Stc", "ru", "teacher") = "Преподаватель"
	set ^CacheMsg("Stc", "en", "teacher") = "Teacher"
	set ^CacheMsg("Stc", "en-us", "teacher") = ^CacheMsg("Stc", "en", "teacher")
	
	set ^CacheMsg("Stc", "ru", "city") = "Город"
	set ^CacheMsg("Stc", "en", "city") = "City"
	set ^CacheMsg("Stc", "en-us", "city") = ^CacheMsg("Stc", "en", "city")
	
	set ^CacheMsg("Stc", "ru", "student") = "Слушатель"
	set ^CacheMsg("Stc", "en", "student") = "Student"
	set ^CacheMsg("Stc", "en-us", "student") = ^CacheMsg("Stc", "en", "student")
	
	
	q $$$OK
]]></Implementation>
</Method>
</Class>
</Export>
