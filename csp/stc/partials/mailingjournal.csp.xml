<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="stc/partials/mailingjournal.csp" application="/csp/stc/" default="1"><![CDATA[
<div class="row-fluid" style="padding-bottom: 5px;">
	<div class="span1">
	</div>
	<div class="span10">
		<span ng-bind="'Журнал рассылок'|localize" style="font-weight: bold;"></span>
		&nbsp;
		<i class="iSwitcher" ng-click="mailTable.forciblyUpdate = mailTable.forciblyUpdate + 1" ng-bind="'(обновить)'|localize"></i>
		<button type="button" class="btn btn-small btn-danger pull-right" style="width: 190px;" title="{{'Прекратить рассылку писем'|localize}}" ng-click="mailTable.changeMailingStatus('Off')" ng-show="mailTable.mailingStatus=='On'"><i class="icon-ban-circle"></i>&nbsp;&nbsp;{{'Отключить рассылку'|localize}}</button>
		<button type="button" class="btn btn-small btn-success pull-right" style="width: 190px;" title="{{'Возобновить рассылку писем'|localize}}" ng-click="mailTable.changeMailingStatus('On')" ng-show="mailTable.mailingStatus=='Off'"><i class="icon-ok"></i>&nbsp;&nbsp;{{'Включить рассылку'|localize}}</button>
	</div>
	<div class="span1">
	</div>
</div>
<div class="row-fluid">
	<div class="span1">
	</div>
	<div class="span10">
		<stcgrid
			grid="mailTable.grid"
		    table-class="table table-bordered table-hover"
		    caption=""
		    columns="mailTable.columns"
		    items="mailTable.items"
		    properties="mailTable.properties"
		    update-items="mailTable.loadItems(pageCurr, pageSize, sqlName, isDown, searchSqlName, searchText)"

		    page-curr="mailTable.pageCurr"
		    page-total="mailTable.pageTotal"
		    page-size="mailTable.pageSize"
		    navigator-visible="true"

		    selectable="true"
		    selected-items="mailTable.selectedItems"
		    multi-select-mode="mailTable.multiSelectMode"

		    action-column-visible="true"
	    	action-column-icon="'icon-ellipsis-horizontal'"
	    	
	    	first-row-action-icon="'icon-remove'"
	    	first-row-action-title="'Удалить из очереди'|localize"
	    	first-row-action-method="mailTable.remove(item)"

	        forcibly-update="mailTable.forciblyUpdate"
	    />
	</div>
	<div class="span1">
	</div>
</div>

<div class="row-fluid" ng-hide="mailTable.selectedItems.length==0">
	<div class="span1">
	</div>
	<div class="span10" style="border: 1px solid rgb(206, 206, 206); padding: 10px; border-radius: 4px;">
		<p><b ng-bind="('Получатель'|localize) + ':'"></b> <span ng-bind="mailTable.selectedItems[0].recipient.fullName + '; ' + mailTable.selectedItems[0].sendedStatus"></span></p>
		<div class="row-fluid" style="margin-bottom: 10px;" ng-bind-html-unsafe="'<b>' +('Тема письма'|localize) + ': </b>' + mailTable.selectedItems[0].subject"></div>
		<b ng-bind="('Содержание письма'|localize) + ':'"></b>
		<div class="row-fluid" ng-bind-html-unsafe="mailTable.selectedItems[0].message"></div>
	</div>
	<div class="span1">
	</div>
</div>

<div class="row-fluid" ng-show="mailTable.selectedItems.length==0" style="text-align: center;">
	<i ng-bind="'Выберите элемент для отображения подробной информации.'|localize"></i>
</div>	
<br>
<div class="row-fluid">
	<div class="span1">
	</div>
	<div class="span10">
		<stcalert data="mailTable.alert"/>
	</div>
	<div class="span1">
	</div>
</div>]]></CSP>
</Export>
