<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="stc/partials/persons.csp" application="/csp/four/" default="1"><![CDATA[
<div class="row-fluid">
	<div class="span1">
	</div>
	<div class="span10">
		<stcgrid
			grid="pageStore.persons.grid"
		    table-class="table table-bordered table-hover"
		    caption="Сотрудники"
		    columns="personTable.columns"
		    items="personTable.items"
		    properties="personTable.properties"
		    update-items="personTable.loadItems(pageCurr, pageSize, sqlName, isDown, searchSqlName, searchText)"

		    page-curr="personTable.pageCurr"
		    page-total="personTable.pageTotal"
		    page-size="personTable.pageSize"
		    navigator-visible="true"

		    selectable="true"
		    selected-items="personTable.selectedItems"
		    multi-select-mode="personTable.multiSelectMode"

		    action-column-visible="true"
		    action-column-icon="'icon-plus-sign'"
		    action-column-title="'Добавить сотрудника'|localize"
		    action-column-method="personTable.add()"

		    first-row-action-icon="'icon-pencil'"
		    first-row-action-title="'Редактировать сотрудника'|localize"
		    first-row-action-method="personTable.edit(item)"
		    
		    second-row-action-icon="'icon-remove'"
		    second-row-action-title="'Удалить сотрудника'|localize"
		    second-row-action-method="personTable.delete(item)"
		    
		    forcibly-update="personTable.forciblyUpdate"
		/>
	</div>
	<div class="span1">
	</div>
</div>

<stcalert data="personTable.alert" span-right="1" span-middle="10" span-left="1"/>

<div class="row-fluid" ng-show="personTable.selectedItems.length==0">
	<div class="span1">
	</div>
	<div class="span10" style="text-align: center;">
		<i ng-bind="'Выберите сотрудника для отображения подробной информации.'|localize"></i>
	</div>
	<div class="span1">
	</div>
</div>	

<div class="row-fluid" ng-show="other.allEmpty && personTable.selectedItems.length>0">
	<div class="span1">
	</div>
	<div class="span10" style="text-align: center;">
		<i ng-bind="'Выбранный сотрудник не указан ни в одной заявке, не проходит обучение, не имеет сертификатов, не преподаватель и не является контактом компании.'|localize"></i>
	</div>
	<div class="span1">
	</div>
</div>	

<div class="row-fluid" ng-hide="personTable.selectedItems.length==0 || other.allEmpty">
	<div class="span1">
	</div>
	<div class="span10">
		<tabset>
			<tab heading="{{('Заявки'|localize) + ' (' + orderTable.items.length + ')'}}" active="orderTable.active" ng-hide="$parent.orderTable.items.length==0">
				<stcgrid
			    table-class="table table-bordered"
			    caption=""
			    columns="orderTable.columns"
			    items="orderTable.items"
			    properties="orderTable.properties"
			    update-items=""

			    page-curr="1"
			    page-total="1"
			    page-size="100"
			    navigator-visible="false"

			    selectable="false"
			    selected-items="orderTable.selectedItems"
			    multi-select-mode="false"

			    action-column-visible="true"
		    	action-column-icon="'icon-ellipsis-horizontal'"

		    	first-row-action-icon="'icon-eye-open'"
		    	first-row-action-title="'Открыть заявку'|localize"
		    	first-row-action-method="orderTable.open(item)"
		 
				/>
		    </tab>
		    
			<tab heading="{{('Обучения'|localize) + ' (' + trainingTable.items.length + ')'}}" active="trainingTable.active" ng-hide="$parent.trainingTable.items.length==0">
				<stcgrid
			    table-class="table table-bordered"
			    caption=""
			    columns="trainingTable.columns"
			    items="trainingTable.items"
			    properties="trainingTable.properties"
			    update-items=""

			    page-curr="1"
			    page-total="1"
			    page-size="100"
			    navigator-visible="false"

			    selectable="false"
			    selected-items="trainingTable.selectedItems"
			    multi-select-mode="false"

			    action-column-visible="true"
		    	action-column-icon="'icon-ellipsis-horizontal'"

		    	first-row-action-icon="'icon-eye-open'"
		    	first-row-action-title="'Открыть обучение'|localize"
		    	first-row-action-method="trainingTable.open(item)"
				/>
		    </tab>
		    
			<tab heading="{{('Сертификаты'|localize) + ' (' + certificateTable.items.length + ')'}}" active="certificateTable.active" ng-hide="$parent.certificateTable.items.length==0">
				<stcgrid
			    table-class="table table-bordered"
			    caption=""
			    columns="certificateTable.columns"
			    items="certificateTable.items"
			    properties="certificateTable.properties"
			    update-items=""

			    page-curr="1"
			    page-total="1"
			    page-size="100"
			    navigator-visible="false"

			    selectable="false"
			    selected-items="certificateTable.selectedItems"
			    multi-select-mode="false"

			    action-column-visible="true"
		    	action-column-icon="'icon-ellipsis-horizontal'"

		    	first-row-action-icon="'icon-print'"
		    	first-row-action-title="'Распечатать'|localize"
		    	first-row-action-method="certificateTable.print(item)"
				/>
		    </tab>
		    
			<tab heading="{{('Преподает курсы'|localize) + ' (' + courseTable.items.length + ')'}}" active="courseTable.active" ng-hide="$parent.courseTable.items.length==0">
				<stcgrid
			    table-class="table table-bordered"
			    caption=""
			    columns="courseTable.columns"
			    items="courseTable.items"
			    properties="courseTable.properties"
			    update-items=""

			    page-curr="1"
			    page-total="1"
			    page-size="100"
			    navigator-visible="false"

			    selectable="false"
			    selected-items="courseTable.selectedItems"
			    multi-select-mode="false"

			    action-column-visible="false"
				/>
		    </tab>

			<tab heading="{{('Контакт компании'|localize) + ' (' + companyTable.items.length + ')'}}" active="companyTable.active" ng-hide="$parent.companyTable.items.length==0">
				<stcgrid
			    table-class="table table-bordered"
			    caption=""
			    columns="companyTable.columns"
			    items="companyTable.items"
			    properties="companyTable.properties"
			    update-items=""

			    page-curr="1"
			    page-total="1"
			    page-size="100"
			    navigator-visible="false"

			    selectable="false"
			    selected-items="companyTable.selectedItems"
			    multi-select-mode="false"

			    action-column-visible="true"
		    	action-column-icon="'icon-ellipsis-horizontal'"
		    	
		    	first-row-action-icon="'icon-pencil'"
		    	first-row-action-title="'Редактировать компанию'|localize"
		    	first-row-action-method="companyTable.edit(item)"
				/>
		    </tab>
		</tebset>
	</div>
	<div class="span1">
	</div>
</div>

<stcalert data="other.alert" span-right="1" span-middle="10" span-left="1"/>
]]></CSP>
</Export>
